
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lighting Moon | Loading...</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        /* --- 1. 全局設定與自定義游標 --- */
        :root {
            --primary-color: #ffffff;
            --glass-bg: rgba(15, 15, 15, 0.65);
            --glass-border: rgba(255, 255, 255, 0.08);
        }

        body {
            margin: 0;
            padding: 0;
            background-color: #050505;
            color: white;
            font-family: 'Poppins', sans-serif;
            overflow: hidden;
            /* 禁止滾動 */
            height: 100vh;
            cursor: crosshair;
            /* 十字準心游標 */
        }

        /* --- 2. 背景影片/圖片 --- */
        /* --- 0. Custom Cursor & Boot --- */
        #boot-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: #000;
            z-index: 10000;
            padding: 2rem;
            box-sizing: border-box;
            font-family: 'Courier New', monospace;
            color: #0f0;
            overflow: hidden;
            display: none;
            /* Shown on click */
            pointer-events: none;
        }

        .terminal-line {
            display: block;
            margin-bottom: 2px;
            text-shadow: 0 0 5px #0f0;
            opacity: 0;
            animation: fadeIn 0.1s forwards;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }

        /* Scanline / CRT Effect */
        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom,
                    rgba(255, 255, 255, 0),
                    rgba(255, 255, 255, 0) 50%,
                    rgba(0, 0, 0, 0.1) 50%,
                    rgba(0, 0, 0, 0.1));
            background-size: 100% 4px;
            z-index: 20000;
            pointer-events: none;
            opacity: 0.6;
            mix-blend-mode: overlay;
        }

        /* Cursor Ring */
        .cursor-ring {
            position: fixed;
            top: 0;
            left: 0;
            width: 40px;
            height: 40px;
            border: 1px dashed rgba(0, 255, 255, 0.4);
            border-radius: 50%;
            pointer-events: none;
            z-index: 20001;
            transform: translate(-50%, -50%);
            transition: width 0.15s, height 0.15s, border-color 0.15s;
            animation: rotate-cursor 8s linear infinite;
        }

        .cursor-ring.active {
            width: 30px;
            height: 30px;
            border-color: rgba(255, 0, 100, 0.8);
            border-style: solid;
        }

        @keyframes rotate-cursor {
            to {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }

        /* --- 2. 背景影片/圖片 --- */
        #bg-media {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -2;
            filter: brightness(0.3) blur(0px);
            /* 進入後無模糊 */
            transition: filter 0.8s ease;
        }

        /* --- 3. 粒子特效畫布 (雪花) --- */
        #canvas-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        /* --- 4. Click to Enter 遮罩 --- */
        #enter-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: opacity 1s ease, visibility 1s;
        }

        .enter-text {
            font-size: 1.5rem;
            font-weight: 700;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
            animation: glow 2s infinite ease-in-out;
        }

        @keyframes glow {

            0%,
            100% {
                opacity: 0.5;
                text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            }

            50% {
                opacity: 1;
                text-shadow: 0 0 20px rgba(255, 255, 255, 1);
            }
        }

        /* --- 5. 主內容卡片 (Guns.lol 風格) --- */
        #main-card {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            width: 90%;
            max-width: 400px;
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 40px 20px;
            text-align: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.8s ease, visibility 0.8s;
            /* Removed transform from transition for smoother 3D tilt */
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
            perspective: 1000px;
            transform-style: preserve-3d;
        }

        .avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.1);
            /* margin-bottom removed for alignment */
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
            transition: transform 0.5s;
        }

        .avatar:hover {
            transform: rotate(360deg);
        }

        .username {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 5px;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.6);
            /* 模擬高級會員的鑽石/發光名字效果 */
            background: linear-gradient(90deg, #fff, #b3b3b3, #fff);
            background-size: 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradient-anim 3s infinite linear;
            position: relative;
            display: inline-block;
        }

        @keyframes gradient-anim {
            0% {
                background-position: 0%;
            }

            100% {
                background-position: 200%;
            }
        }


        /* --- Glitch Effect --- */
        .glitch {
            position: relative;
        }

        .glitch::before,
        .glitch::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #050505;
            /* Consistent with bg */
            overflow: hidden;
            clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
        }

        .glitch::before {
            left: 2px;
            text-shadow: -1px 0 #ff00c1;
            animation: glitch-anim-1 2s infinite linear alternate-reverse;
        }

        .glitch::after {
            left: -2px;
            text-shadow: -1px 0 #00fff9;
            animation: glitch-anim-2 3s infinite linear alternate-reverse;
        }

        @keyframes glitch-anim-1 {
            0% {
                clip-path: inset(20% 0 80% 0);
                transform: translate(-2px, 1px);
            }

            20% {
                clip-path: inset(60% 0 10% 0);
                transform: translate(2px, -1px);
            }

            40% {
                clip-path: inset(40% 0 50% 0);
                transform: translate(-2px, 2px);
            }

            60% {
                clip-path: inset(80% 0 5% 0);
                transform: translate(2px, -2px);
            }

            80% {
                clip-path: inset(10% 0 70% 0);
                transform: translate(-1px, 1px);
            }

            100% {
                clip-path: inset(30% 0 50% 0);
                transform: translate(1px, -1px);
            }
        }

        @keyframes glitch-anim-2 {
            0% {
                clip-path: inset(10% 0 60% 0);
                transform: translate(2px, -1px);
            }

            20% {
                clip-path: inset(80% 0 5% 0);
                transform: translate(-2px, 1px);
            }

            40% {
                clip-path: inset(30% 0 20% 0);
                transform: translate(2px, 2px);
            }

            60% {
                clip-path: inset(10% 0 80% 0);
                transform: translate(-2px, -2px);
            }

            80% {
                clip-path: inset(40% 0 10% 0);
                transform: translate(1px, 1px);
            }

            100% {
                clip-path: inset(50% 0 30% 0);
                transform: translate(-1px, -1px);
            }
        }

        .badges {
            margin-bottom: 5px;
            font-size: 1rem;
            color: #ddd;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.3);
        }

        .uid {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 15px;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.3);
            font-family: monospace;
        }

        .badges i {
            margin: 0 3px;
            cursor: help;
        }

        .bio-box {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 10px;
            margin: 15px 0;
            min-height: 24px;
            font-size: 0.9rem;
            color: #ccc;
            font-family: 'Courier New', monospace;
            /* 打字機字體 */
        }

        /* --- 社交按鈕 --- */
        .links {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 20px;
        }

        .link-item {
            display: block;
            background: rgba(255, 255, 255, 0.05);
            color: white;
            text-decoration: none;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s;
            font-weight: 600;
            position: relative;
            overflow: hidden;
        }

        .link-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: scale(1.02) rotateY(10deg);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.4);
            text-shadow: 0 0 10px rgba(255, 255, 255, 1);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* 按钮点击粒子效果 */
        .link-item:active {
            transform: scale(0.98);
        }

        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 100;
            animation: particle-fade 1s ease-out forwards;
        }

        @keyframes particle-fade {
            0% {
                transform: translate(0, 0);
                opacity: 1;
            }

            100% {
                transform: translate(var(--tx), var(--ty));
                opacity: 0;
            }
        }

        /* --- 底部資訊 --- */
        .footer {
            margin-top: 25px;
            font-size: 0.7rem;
            color: #666;
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        /* 隱藏原生播放器 */
        audio {
            display: none;
        }

        .cursor-trail {
            position: absolute;
            width: 8px;
            height: 8px;
            background: cyan;
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            box-shadow: 0 0 10px cyan, 0 0 20px cyan;
        }

        /* --- 6. Avatar Magic Circle (Enhanced) --- */
        .avatar-container {
            position: relative;
            display: inline-block;
            margin-bottom: 40px;
            /* Increased to compensate for removed avatar margin */
        }

        .magic-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            pointer-events: none;
            z-index: -1;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.1);
        }

        /* Outer Runes/Dashed Ring */
        .ring-1 {
            width: 170px;
            height: 170px;
            border: 1px dashed rgba(0, 255, 255, 0.4);
            animation: rotate-right 20s linear infinite;
        }

        /* Inner Hexagon/Tech Ring */
        .ring-2 {
            width: 150px;
            height: 150px;
            border: 2px solid transparent;
            border-top: 2px solid rgba(255, 0, 150, 0.6);
            border-bottom: 2px solid rgba(255, 0, 150, 0.6);
            animation: rotate-left 12s linear infinite;
        }

        .ring-2::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 50%;
            border: 2px solid transparent;
            border-left: 2px solid rgba(0, 255, 255, 0.6);
            border-right: 2px solid rgba(0, 255, 255, 0.6);
            transform: rotate(90deg);
        }

        /* Pulsing Core Ring */
        .ring-3 {
            width: 130px;
            height: 130px;
            border: 1px dotted rgba(255, 255, 255, 0.3);
            animation: pulse-ring 2s ease-in-out infinite alternate, rotate-right 30s linear infinite;
        }

        /* Complex Decorative Ring */
        .ring-4 {
            width: 190px;
            height: 190px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            animation: rotate-left 40s linear infinite;
        }

        .ring-4::after {
            content: '';
            position: absolute;
            top: 50%;
            left: -5px;
            width: 10px;
            height: 10px;
            background: rgba(0, 255, 255, 0.5);
            border-radius: 50%;
            box-shadow: 0 0 10px cyan;
        }

        @keyframes rotate-right {
            to {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }

        @keyframes rotate-left {
            to {
                transform: translate(-50%, -50%) rotate(-360deg);
            }
        }

        @keyframes pulse-ring {
            0% {
                transform: translate(-50%, -50%) scale(0.95);
                opacity: 0.3;
                border-color: rgba(255, 255, 255, 0.1);
            }

            100% {
                transform: translate(-50%, -50%) scale(1.05);
                opacity: 0.7;
                border-color: rgba(0, 255, 255, 0.5);
            }
        }

        /* --- 7. HUD / Tech Elements --- */
        .hud-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 10;
        }

        .hud-item {
            position: absolute;
            font-family: 'Courier New', monospace;
            font-size: 0.7rem;
            color: rgba(0, 255, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .hud-tl {
            top: 20px;
            left: 20px;
            text-align: left;
        }

        .hud-tr {
            top: 20px;
            right: 20px;
            text-align: right;
        }

        .hud-bl {
            bottom: 20px;
            left: 20px;
            text-align: left;
        }

        .hud-br {
            bottom: 20px;
            right: 20px;
            text-align: right;
        }

        .hud-line {
            display: block;
            margin-bottom: 5px;
        }

        .scan-line {
            width: 100%;
            height: 2px;
            background: rgba(0, 255, 255, 0.2);
            position: absolute;
            top: 0;
            left: 0;
            animation: scan 3s linear infinite;
            opacity: 0.5;
        }

        @keyframes scan {
            0% {
                top: 0%;
                opacity: 0;
            }

            50% {
                opacity: 0.5;
            }

            100% {
                top: 100%;
                opacity: 0;
            }
        }

        /* --- Scramble Effect Helper --- */
        .scramble-highlight {
            color: #0ff;
            text-shadow: 0 0 5px #0ff;
        }

        /* --- 8. Magic Circle Click Effect --- */
        .click-magic-ring {
            position: fixed;
            pointer-events: none;
            border-radius: 50%;
            border: 2px solid rgba(0, 255, 255, 0.8);
            box-shadow: 0 0 15px cyan, inset 0 0 15px cyan;
            z-index: 9998;
            animation: magic-expand 0.8s ease-out forwards;
        }

        .click-magic-ring::before,
        .click-magic-ring::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 50%;
            border: 1px dashed rgba(255, 0, 255, 0.5);
        }

        .click-magic-ring::before {
            animation: rotate-right 0.8s linear;
        }

        .click-magic-ring::after {
            animation: rotate-left 0.8s linear;
        }

        @keyframes magic-expand {
            0% {
                width: 0;
                height: 0;
                opacity: 1;
                transform: translate(-50%, -50%) rotate(0deg);
            }

            100% {
                width: 300px;
                height: 300px;
                opacity: 0;
                transform: translate(-50%, -50%) rotate(45deg);
            }
        }

        /* --- 9. Pseudo Audio Visualizer --- */
        .visualizer-container {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            gap: 3px;
            height: 30px;
            margin-top: 15px;
        }

        .viz-bar {
            width: 4px;
            background: cyan;
            box-shadow: 0 0 5px cyan;
            animation: viz-bounce 0.5s infinite ease-in-out alternate;
        }

        .viz-bar:nth-child(odd) {
            animation-duration: 0.4s;
            background: #ff00ff;
            box-shadow: 0 0 5px #ff00ff;
        }

        .viz-bar:nth-child(2n) {
            animation-duration: 0.6s;
        }

        .viz-bar:nth-child(3n) {
            animation-duration: 0.3s;
        }

        @keyframes viz-bounce {
            0% {
                height: 5px;
                opacity: 0.5;
            }

            100% {
                height: 100%;
                opacity: 1;
            }
        }

        /* --- 10. Global Screen Glitch (Subtle) --- */
        @keyframes screen-twitch {
            0% {
                transform: translate(0, 0);
                filter: brightness(1);
            }

            95% {
                transform: translate(0, 0);
                filter: brightness(1);
            }

            96% {
                transform: translate(-2px, 1px);
                filter: hue-rotate(90deg) brightness(1.2);
            }

            97% {
                transform: translate(2px, -1px);
                filter: invert(0.1);
            }

            98% {
                transform: translate(0, 2px);
                filter: brightness(1);
            }

            100% {
                transform: translate(0, 0);
            }
        }

        /* Apply to body or a wrapper if preferred. Using body for max effect */
        body {
            animation: screen-twitch 10s infinite;
        }

        /* --- 11. New Animation Additions (Chuunibyou) --- */

        /* System Warning Overlay */
        .system-warning-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 0, 0, 0.1);
            z-index: 15000;
            pointer-events: none;
            opacity: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            mix-blend-mode: overlay;
        }

        .warning-text {
            font-size: 5rem;
            color: red;
            font-weight: 900;
            border: 10px solid red;
            padding: 20px 40px;
            text-transform: uppercase;
            letter-spacing: 10px;
            transform: rotate(-10deg);
            opacity: 0;
            text-shadow: 0 0 20px red;
            box-shadow: 0 0 50px red, inset 0 0 50px red;
        }

        .severe-glitch-anim {
            animation: severe-glitch 0.2s infinite;
        }

        @keyframes severe-glitch {
            0% {
                transform: translate(0, 0) skew(0deg);
                opacity: 1;
            }

            20% {
                transform: translate(-10px, 5px) skew(10deg);
                opacity: 0.8;
            }

            40% {
                transform: translate(10px, -5px) skew(-10deg);
                opacity: 1;
            }

            60% {
                transform: translate(-5px, 10px) skew(5deg);
                opacity: 0.9;
            }

            80% {
                transform: translate(5px, -10px) skew(-5deg);
                opacity: 1;
            }

            100% {
                transform: translate(0, 0) skew(0deg);
                opacity: 1;
            }
        }

        /* Digital Particles */
        .digital-particle {
            position: absolute;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            font-size: 0.8rem;
            color: #0ff;
            pointer-events: none;
            z-index: 10001;
            user-select: none;
            text-shadow: 0 0 5px cyan;
            animation: float-up-fade 1.5s ease-out forwards;
        }

        @keyframes float-up-fade {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }

            100% {
                transform: translateY(-50px) scale(1.5);
                opacity: 0;
            }
        }

        /* Power Bar in HUD */
        .power-bar-container {
            width: 150px;
            height: 10px;
            border: 1px solid rgba(0, 255, 255, 0.5);
            background: rgba(0, 0, 0, 0.5);
            margin-top: 5px;
            position: relative;
            overflow: hidden;
        }

        .power-bar-fill {
            height: 100%;
            width: 50%;
            background: linear-gradient(90deg, transparent, #0ff, transparent);
            background-size: 200% 100%;
            animation: power-pulse 2s infinite linear;
            box-shadow: 0 0 10px cyan;
            transition: width 0.2s ease-out;
        }

        @keyframes power-pulse {
            0% {
                background-position: 100% 0;
            }

            100% {
                background-position: -100% 0;
            }
        }
    </style>
</head>

<body>

    <video id="bg-media" loop muted playsinline>
        <source src="https://r2.guns.lol/11173a4c-5c66-4bbe-ac8f-e2641bdabcd3.mp4" type="video/mp4">
    </video>

    <canvas id="canvas-overlay"></canvas>

    <audio id="bg-music" loop>
        <source src="https://audio.jukehost.co.uk/F6fHo9M8EAU3RZWAMUpE0yksLANnv4oS" type="audio/mp3">
    </audio>

    <div id="enter-overlay">
        <div class="enter-text">System Offline. Click to Initialize.</div>
    </div>

    <!-- Boot Sequence Overlay -->
    <div id="boot-overlay">
        <div id="term-content"></div>
    </div>

    <!-- System Warning Overlay -->
    <div class="system-warning-overlay" id="sys-warning">
        <div class="warning-text">SYSTEM FAILURE</div>
    </div>

    <!-- CRT Scanlines -->
    <div class="scanlines"></div>

    <!-- HUD Overlay -->
    <div class="hud-container">
        <div class="scan-line"></div>
        <div class="hud-item hud-tl">
            <span class="hud-line">SYS.ONLINE</span>
            <span class="hud-line">TGT: USER</span>
            <span class="hud-line">SEC: LOW</span>
        </div>
        <div class="hud-item hud-tr">
            <span class="hud-line">CPU: <span id="cpu-val">34</span>%</span>
            <span class="hud-line">RAM: <span id="ram-val">12</span>%</span>
            <span class="hud-line">NET: CON</span>
        </div>
        <div class="hud-item hud-bl">
            <span class="hud-line">LOC: UNKNOWN</span>
            <span class="hud-line">BIO: LOADED</span>
        </div>
        <div class="hud-item hud-br">
            <span class="hud-line">VER: 2.0.77</span>
            <span class="hud-line">ID: #0592</span>
            <span class="hud-line">PWR:</span>
            <div class="power-bar-container">
                <div class="power-bar-fill" id="power-fill"></div>
            </div>
        </div>
    </div>

    <div id="main-card">
        <div class="avatar-container">
            <div class="magic-ring ring-1"></div>
            <div class="magic-ring ring-2"></div>
            <div class="magic-ring ring-3"></div>
            <div class="magic-ring ring-4"></div>
            <img src="https://i.pinimg.com/474x/0f/73/8e/0f738ec9db6c97916df1982962b085a6.jpg" alt="Profile"
                class="avatar">
        </div>

        <div class="username glitch" data-text="Lighting Moon">Lighting Moon</div>

        <div class="badges">
            <i class="fas fa-crown" title="Premium"></i>
            <i class="fas fa-code" title="Developer"></i>
            <i class="fas fa-terminal" title="Hacker"></i>
            <i class="fas fa-check-circle" title="Verified"></i>
        </div>
        <div class="uid">UID: 1</div>

        <div class="bio-box">
            <span id="typewriter"></span><span class="cursor">|</span>
        </div>

        <div class="links">
            <a href="https://discord.gg/VvcdzzXX" target="_blank" class="link-item">
                <i class="fab fa-discord"></i> Discord Server
            </a>
            <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ&list=RDdQw4w9WgXcQ&start_radio=1&pp=ygUXbmV2ZXIgZ29ubmEgZ2l2ZSB5b3UgdXCgBwE%3D"
                target="_blank" class="link-item">
                <i class="fab fa-youtube"></i> YouTube Channel
            </a>
            <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ&list=RDdQw4w9WgXcQ&start_radio=1&pp=ygUXbmV2ZXIgZ29ubmEgZ2l2ZSB5b3UgdXCgBwE%3D"
                target="_blank" class="link-item">
                <i class="fab fa-github"></i> GitHub Profile
            </a>
        </div>

        <div class="footer">
            <span><i class="fas fa-eye"></i> 14,203</span>
            <span><i class="fas fa-copyright"></i> 2024</span>
        </div>

        <div class="visualizer-container">
            <div class="viz-bar"></div>
            <div class="viz-bar"></div>
            <div class="viz-bar"></div>
            <div class="viz-bar"></div>
            <div class="viz-bar"></div>
            <div class="viz-bar"></div>
            <div class="viz-bar"></div>
            <div class="viz-bar"></div>
            <div class="viz-bar"></div>
            <div class="viz-bar"></div>
            <div class="viz-bar"></div>
            <div class="viz-bar"></div>
            <div class="viz-bar"></div>
            <div class="viz-bar"></div>
            <div class="viz-bar"></div>
        </div>
    </div>

    <script>
        // --- 設定區 ---
        // --- 設定區 ---
        const pageTitle = "Lighting Moon | System Online | ";
        const bioText = ["Developer.", "Gamer.", "Sleepy.", "Welcome to my profile."];
        const typingSpeed = 50;
        const deleteSpeed = 30;
        const pauseTime = 2000;

        // Boot Log Data
        const bootLog = [
            "Initializing kernel...",
            "Loading system modules...",
            "Connecting to neural network...",
            "[SUCCESS] Network secured.",
            "Bypassing firewalls...",
            "Accessing user profile database...",
            "Decrypting bio data...",
            "rendering graphics engine...",
            "SYSTEM ONLINE."
        ];

        // --- 變數 ---
        let titleIndex = 0;
        const enterOverlay = document.getElementById('enter-overlay');
        const mainCard = document.getElementById('main-card');
        const bgMedia = document.getElementById('bg-media');
        const bgMusic = document.getElementById('bg-music');
        const typewriterSpan = document.getElementById('typewriter');

        // --- TextScramble Class (Moved for scope) ---
        class TextScramble {
            constructor(el) {
                this.el = el;
                this.chars = '!<>-_\\/[]{}—=+*^?#________';
                this.update = this.update.bind(this);
            }
            setText(newText) {
                const oldText = this.el.innerText;
                const length = Math.max(oldText.length, newText.length);
                const promise = new Promise((resolve) => this.resolve = resolve);
                this.queue = [];
                for (let i = 0; i < length; i++) {
                    const from = oldText[i] || '';
                    const to = newText[i] || '';
                    const start = Math.floor(Math.random() * 40);
                    const end = start + Math.floor(Math.random() * 40);
                    this.queue.push({ from, to, start, end });
                }
                cancelAnimationFrame(this.frameRequest);
                this.frame = 0;
                this.update();
                return promise;
            }
            update() {
                let output = '';
                let complete = 0;
                for (let i = 0, n = this.queue.length; i < n; i++) {
                    let { from, to, start, end, char } = this.queue[i];
                    if (this.frame >= end) {
                        complete++;
                        output += to;
                    } else if (this.frame >= start) {
                        if (!char || Math.random() < 0.28) {
                            char = this.randomChar();
                            this.queue[i].char = char;
                        }
                        output += `<span class="scramble-highlight">${char}</span>`;
                    } else {
                        output += from;
                    }
                }
                this.el.innerHTML = output;
                if (complete === this.queue.length) {
                    this.resolve();
                } else {
                    this.frameRequest = requestAnimationFrame(this.update);
                    this.frame++;
                }
            }
            randomChar() {
                return this.chars[Math.floor(Math.random() * this.chars.length)];
            }
        }

        // --- 1. 點擊進入邏輯 ---

        enterOverlay.addEventListener('click', () => {
            // 1. Play Music immediately
            bgMusic.volume = 0.4;
            bgMusic.play().catch(e => console.log("Audio play failed:", e));

            // 2. Hide Enter Overlay
            enterOverlay.style.opacity = '0';
            setTimeout(() => { enterOverlay.style.display = 'none'; }, 800);

            // 3. Start Boot Sequence
            runBootSequence();
        });

        function runBootSequence() {
            const bootOverlay = document.getElementById('boot-overlay');
            const termContent = document.getElementById('term-content');
            bootOverlay.style.display = 'block';

            let lineIndex = 0;

            function printLine() {
                if (lineIndex < bootLog.length) {
                    const div = document.createElement('div');
                    div.className = 'terminal-line';
                    div.innerText = `> ${bootLog[lineIndex]}`;
                    termContent.appendChild(div);

                    // Specific sound effect could go here

                    lineIndex++;
                    // Random delay for realism
                    setTimeout(printLine, Math.random() * 300 + 100);
                } else {
                    // Boot Complete
                    setTimeout(() => {
                        // Flash effect or fade out
                        bootOverlay.style.transition = 'opacity 0.5s ease';
                        bootOverlay.style.opacity = '0';
                        setTimeout(() => { bootOverlay.style.display = 'none'; }, 500);

                        // Show Main Card
                        showMainCard();
                    }, 800);
                }
            }
            printLine();
        }

        function showMainCard() {
            // Show Card
            mainCard.style.opacity = '1';
            mainCard.style.visibility = 'visible';
            // Scale and rotate reset happens in CSS or updated via JS tilt

            bgMedia.play();

            // Init interactions
            animateElements();
            initParallax();
            initBioScramble();
            setInterval(scrollTitle, 200);

            // Enable 3D Tilt
            document.addEventListener('mousemove', handleCardTilt);
        }

        // --- 3D Card Tilt ---
        function handleCardTilt(e) {
            const xAxis = (window.innerWidth / 2 - e.pageX) / 25;
            const yAxis = (window.innerHeight / 2 - e.pageY) / 25;
            // Rotate the card
            mainCard.style.transform = `translate(-50%, -50%) rotateY(${xAxis}deg) rotateX(${yAxis}deg)`;
        }

        // --- 2. 標題滾動特效 ---
        function scrollTitle() {
            document.title = pageTitle.substring(titleIndex) + pageTitle.substring(0, titleIndex);
            titleIndex = (titleIndex + 1) % pageTitle.length;
        }

        // --- 3. Bio Scramble Effect ---
        function initBioScramble() {
            const el = document.getElementById('typewriter');
            const fx = new TextScramble(el);
            let counter = 0;
            const next = () => {
                fx.setText(bioText[counter]).then(() => {
                    setTimeout(next, 2500);
                });
                counter = (counter + 1) % bioText.length;
            };
            next();
        }

        // 按钮点击粒子效果 & Magic Circle
        document.addEventListener('click', (e) => {
            // Create Magic Ring
            const ring = document.createElement('div');
            ring.className = 'click-magic-ring';
            ring.style.left = e.clientX + 'px';
            ring.style.top = e.clientY + 'px';
            document.body.appendChild(ring);

            // Cleanup ring
            setTimeout(() => {
                if (ring.parentNode) ring.parentNode.removeChild(ring);
            }, 800);

            // Create Sparkles
            for (let i = 0; i < 15; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = e.clientX + 'px';
                particle.style.top = e.clientY + 'px';

                // Varied shapes
                const shapeType = Math.random();
                if (shapeType > 0.6) {
                    particle.style.borderRadius = '0%'; // Square
                    particle.style.transform = `rotate(${Math.random() * 360}deg)`;
                } else if (shapeType > 0.3) {
                    particle.style.height = '2px'; // Line
                    particle.style.width = '10px';
                }

                particle.style.background = `hsl(${Math.random() * 60 + 180}, 100%, 70%)`;
                particle.style.boxShadow = `0 0 10px ${particle.style.background}`;

                particle.style.setProperty('--tx', `${Math.random() * 200 - 100}px`);
                particle.style.setProperty('--ty', `${Math.random() * 200 - 100}px`);
                document.body.appendChild(particle);

                setTimeout(() => {
                    if (particle.parentNode) particle.parentNode.removeChild(particle);
                }, 1000);
            }

            // Digital Text Particles
            const particleTexts = ["CRIT", "HIT", "0xFA", "ERR", "NULL", "1011"];
            for (let i = 0; i < 3; i++) {
                const dt = document.createElement('div');
                dt.className = 'digital-particle';
                dt.innerText = particleTexts[Math.floor(Math.random() * particleTexts.length)];
                dt.style.left = (e.clientX + Math.random() * 40 - 20) + 'px';
                dt.style.top = (e.clientY + Math.random() * 40 - 20) + 'px';
                document.body.appendChild(dt);

                setTimeout(() => {
                    if (dt.parentNode) dt.parentNode.removeChild(dt);
                }, 1500);
            }

            // Randomly Trigger System Warning on Click (Low Chance)
            if (Math.random() > 0.9) {
                triggerSystemWarning();
            }
        });

        // --- 4. 粒子特效 (Matrix Rain Code) ---
        const canvas = document.getElementById('canvas-overlay');
        const ctx = canvas.getContext('2d');

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        const katakana = 'アァカサタナハマヤャラワガザダバパイィキシチニヒミリヰギジヂビピウゥクスツヌフムユュルグズブヅプ0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        const fontSize = 14;
        const columns = Math.floor(window.innerWidth / fontSize);
        const drops = []; // y positions

        for (let x = 0; x < columns; x++) {
            drops[x] = Math.random() * -100; // Randomize start
        }

        function drawMatrix() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)'; // Fade effect
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.fillStyle = '#0F0'; // Green text
            ctx.font = fontSize + 'px monospace';

            for (let i = 0; i < drops.length; i++) {
                const text = katakana.charAt(Math.floor(Math.random() * katakana.length));
                // Random color for extra style
                if (Math.random() > 0.95) ctx.fillStyle = '#FFF';
                else if (Math.random() > 0.9) ctx.fillStyle = '#0FF';
                else ctx.fillStyle = '#0F0';

                ctx.fillText(text, i * fontSize, drops[i] * fontSize);

                if (drops[i] * fontSize > canvas.height && Math.random() > 0.975)
                    drops[i] = 0;

                drops[i]++;
            }
            requestAnimationFrame(drawMatrix);
        }

        drawMatrix();

        // --- 5. 游標拖尾特效 ---
        const cursorTrails = [];
        const maxTrails = 20;

        // 页面元素入场动画
        function animateElements() {
            const elements = [
                document.querySelector('.avatar'),
                document.querySelector('.username'),
                document.querySelector('.badges'),
                document.querySelector('.uid'),
                document.querySelector('.bio-box'),
                ...document.querySelectorAll('.link-item')
            ];

            elements.forEach((el, i) => {
                if (el) {
                    el.style.opacity = 0;
                    el.style.transform = 'translateY(20px)';
                    setTimeout(() => {
                        el.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                        el.style.opacity = 1;
                        el.style.transform = 'translateY(0)';
                    }, 100 * i);
                }
            });
        }

        // 背景视差效果
        function initParallax() {
            window.addEventListener('scroll', () => {
                const scrollY = window.scrollY;
                bgMedia.style.transform = `translateY(${scrollY * 0.3}px)`;
            });
        }



        // --- Custom Cursor Ring Logic ---
        const cursorRing = document.createElement('div');
        cursorRing.className = 'cursor-ring';
        document.body.appendChild(cursorRing);

        document.addEventListener('mousemove', (e) => {
            // Update Cursor Ring Position with slight delay? 
            // For performance, just direct update
            cursorRing.style.left = e.clientX + 'px';
            cursorRing.style.top = e.clientY + 'px';

            // Trail Logic
            const trail = document.createElement('div');
            trail.className = 'cursor-trail';
            trail.style.left = e.pageX + 'px';
            trail.style.top = e.pageY + 'px';
            document.body.appendChild(trail);

            cursorTrails.push({
                element: trail,
                alpha: 1.0
            });

            if (cursorTrails.length > maxTrails) {
                const old = cursorTrails.shift();
                if (old.element.parentNode) old.element.parentNode.removeChild(old.element);
            }
        });

        document.addEventListener('mousedown', () => {
            cursorRing.classList.add('active');
        });
        document.addEventListener('mouseup', () => {
            cursorRing.classList.remove('active');
        });

        // Loop to animate fade out
        function animateTrails() {
            for (let i = 0; i < cursorTrails.length; i++) {
                const item = cursorTrails[i];
                item.alpha -= 0.05;
                item.element.style.opacity = item.alpha;
                item.element.style.transform = `scale(${item.alpha})`;
            }
            // Remove invisible
            while (cursorTrails.length > 0 && cursorTrails[0].alpha <= 0) {
                const old = cursorTrails.shift();
                if (old.element.parentNode) old.element.parentNode.removeChild(old.element);
            }
            requestAnimationFrame(animateTrails);
        }
        animateTrails();



        // Apply Scramble to Links
        document.querySelectorAll('.link-item').forEach(link => {
            const originalText = link.innerText.trim();
            const scrambler = new TextScramble(link);

            // fix: icon is inside, we need to handle text node separately or just scramble the whole thing carefully
            // Actually, simplest is to wrap the text in a span or just handle it. 
            // Better approach for this structure: Scramble only on hover enter, reset on leave.
            // But since links have icons, let's just target the text nodes or wrap text.
            // Simplified: Just scramble a specific span if possible, or just the whole text content relative to the icon?
            // Let's wrap the text part in a span for safety first in a separate snippet, or just hack it here.

            // Re-approach: The links have <i class="..."></i> Text. 
            // We should wrap the text in a span to scramble ONLY the text.
            const icon = link.querySelector('i');
            const textNode = Array.from(link.childNodes).find(node => node.nodeType === Node.TEXT_NODE && node.textContent.trim().length > 0);

            if (textNode) {
                const span = document.createElement('span');
                span.textContent = textNode.textContent;
                link.replaceChild(span, textNode);

                const fx = new TextScramble(span);

                // Trigger scramble on hover enter
                link.addEventListener('mouseenter', () => {
                    fx.setText(span.textContent);
                });

                // Optional: Scramble back or clean up? 
                // Currently just scrambles to the same text, which produces the decoding effect.
            }
        });

        // --- 7. HUD Value Updates ---
        const cpuVal = document.getElementById('cpu-val');
        const ramVal = document.getElementById('ram-val');

        setInterval(() => {
            if (cpuVal) cpuVal.innerText = Math.floor(Math.random() * 30) + 20;
            if (ramVal) ramVal.innerText = Math.floor(Math.random() * 20) + 10;
        }, 2000);

        // Power Bar Logic
        const powerFill = document.getElementById('power-fill');
        setInterval(() => {
            if (powerFill) {
                const level = Math.random() * 80 + 20; // 20% to 100%
                powerFill.style.width = level + '%';
                // Color change based on level
                if (level > 80) powerFill.style.background = 'linear-gradient(90deg, transparent, #ff0055, transparent)';
                else powerFill.style.background = 'linear-gradient(90deg, transparent, #0ff, transparent)';
            }
        }, 300);

        // System Warning Logic
        const warningOverlay = document.getElementById('sys-warning');
        const warningText = warningOverlay.querySelector('.warning-text');

        function triggerSystemWarning() {
            warningOverlay.style.opacity = '1';
            warningText.style.opacity = '1';
            warningText.classList.add('severe-glitch-anim');
            document.body.classList.add('severe-glitch-anim');

            // Audio effect simulation here if needed

            setTimeout(() => {
                warningOverlay.style.opacity = '0';
                warningText.style.opacity = '0';
                warningText.classList.remove('severe-glitch-anim');
                document.body.classList.remove('severe-glitch-anim');
            }, 800);
        }

        // Randomly trigger warning occasionally
        setInterval(() => {
            if (Math.random() > 0.98) { // rare
                triggerSystemWarning();
            }
        }, 10000);

    </script>
</body>

</html>
